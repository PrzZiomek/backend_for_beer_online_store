"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.apiRoutes = void 0;
const express_1 = require("express");
const login_1 = require("../../controllers/api/login");
const registration_1 = require("../../controllers/api/registration");
const sendJwt_1 = require("../../controllers/api/sendJwt");
const isAuth_1 = require("../../middleware/isAuth");
const validator_1 = require("../../models/validator/validator");
const validatorFacade_1 = require("../../models/validatorFacade");
const router = express_1.Router();
const facade = new validatorFacade_1.Facade(validator_1.Validator);
router.get("/api/jwt", sendJwt_1.sendJwt);
router.post("/api/registration", facade.validate("registration"), isAuth_1.isAuth, registration_1.validationMessage, registration_1.registration);
router.post("/api/login", facade.validate("login"), isAuth_1.isAuth, login_1.login);
exports.apiRoutes = router;
